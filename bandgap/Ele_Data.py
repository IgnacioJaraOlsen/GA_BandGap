import numpy as np
import os

def Ele_Data(ele, coord, connect):
    node1 = connect[ele, 0]
    node2 = connect[ele, 1]

    dx = coord[node2, 0] - coord[node1, 0]
    dy = coord[node2, 1] - coord[node1, 1]

    L = np.sqrt(dx**2 + dy**2)

    theta = np.arctan2(dy, dx)

    
    dofs = np.array([2 * (node1 - 1) + 1, 2 * (node1 - 1) + 2, 2 * (node2 - 1) + 1, 2 * (node2 - 1) + 2]) + 1

    return L, theta, dofs

if __name__ == "__main__":
    os.system('cls')
    ele = 0
    coord = np.array([
        [     0,         0],
        [0.0250,         0],
        [0.0500,         0],
        [0.0750,         0],
        [0.1000,         0],
        [     0,    0.0250],
        [0.0250,    0.0250],
        [0.0500,    0.0250],
        [0.0750,    0.0250],
        [0.1000,    0.0250],
        [     0,    0.0500],
        [0.0250,    0.0500],
        [0.0500,    0.0500],
        [0.0750,    0.0500],
        [0.1000,    0.0500],
        [     0,    0.0750],
        [0.0250,    0.0750],
        [0.0500,    0.0750],
        [0.0750,    0.0750],
        [0.1000,    0.0750],
        [     0,    0.1000],
        [0.0250,    0.1000],
        [0.0500,    0.1000],
        [0.0750,    0.1000],
        [0.1000,    0.1000]])
    
    connect = np.array([
        [ 1,     2],
        [ 2,     3],
        [ 3,     4],
        [ 4,     5],
        [ 6,     7],
        [ 7,     8],
        [ 8,     9],
        [ 9,    10],
        [11,    12],
        [12,    13],
        [13,    14],
        [14,    15],
        [16,    17],
        [17,    18],
        [18,    19],
        [19,    20],
        [21,    22],
        [22,    23],
        [23,    24],
        [24,    25],
        [ 1,     6],
        [ 2,     7],
        [ 3,     8],
        [ 4,     9],
        [ 5,    10],
        [ 6,    11],
        [ 7,    12],
        [ 8,    13],
        [ 9,    14],
        [10,    15],
        [11,    16],
        [12,    17],
        [13,    18],
        [14,    19],
        [15,    20],
        [16,    21],
        [17,    22],
        [18,    23],
        [19,    24],
        [20,    25],
        [ 1,     7],
        [ 2,     8],
        [ 3,     9],
        [ 4,    10],
        [ 6,    12],
        [ 7,    13],
        [ 8,    14],
        [ 9,    15],
        [11,    17],
        [12,    18],
        [13,    19],
        [14,    20],
        [16,    22],
        [17,    23],
        [18,    24],
        [19,    25],
        [ 2,     6],
        [ 3,     7],
        [ 4,     8],
        [ 5,     9],
        [ 7,    11],
        [ 8,    12],
        [ 9,    13],
        [10,    14],
        [12,    16],
        [13,    17],
        [14,    18],
        [15,    19],
        [17,    21],
        [18,    22],
        [19,    23],
        [20,    24]]) - 1
    
    L, theta, dofs = Ele_Data(ele, coord, connect)
    print(f'L:{L}')
    print(f'theta:{theta}')
    print(f'dofs:{dofs}')

    ele = 1
    coord = np.array([
        [     0,         0],
        [0.0250,         0],
        [0.0500,         0],
        [0.0750,         0],
        [0.1000,         0],
        [     0,    0.0250],
        [0.0250,    0.0250],
        [0.0500,    0.0250],
        [0.0750,    0.0250],
        [0.1000,    0.0250],
        [     0,    0.0500],
        [0.0250,    0.0500],
        [0.0500,    0.0500],
        [0.0750,    0.0500],
        [0.1000,    0.0500],
        [     0,    0.0750],
        [0.0250,    0.0750],
        [0.0500,    0.0750],
        [0.0750,    0.0750],
        [0.1000,    0.0750],
        [     0,    0.1000],
        [0.0250,    0.1000],
        [0.0500,    0.1000],
        [0.0750,    0.1000],
        [0.1000,    0.1000]])
    
    connect = np.array([
        [ 1,     2],
        [ 2,     3],
        [ 3,     4],
        [ 4,     5],
        [ 6,     7],
        [ 7,     8],
        [ 8,     9],
        [ 9,    10],
        [11,    12],
        [12,    13],
        [13,    14],
        [14,    15],
        [16,    17],
        [17,    18],
        [18,    19],
        [19,    20],
        [21,    22],
        [22,    23],
        [23,    24],
        [24,    25],
        [ 1,     6],
        [ 2,     7],
        [ 3,     8],
        [ 4,     9],
        [ 5,    10],
        [ 6,    11],
        [ 7,    12],
        [ 8,    13],
        [ 9,    14],
        [10,    15],
        [11,    16],
        [12,    17],
        [13,    18],
        [14,    19],
        [15,    20],
        [16,    21],
        [17,    22],
        [18,    23],
        [19,    24],
        [20,    25],
        [ 1,     7],
        [ 2,     8],
        [ 3,     9],
        [ 4,    10],
        [ 6,    12],
        [ 7,    13],
        [ 8,    14],
        [ 9,    15],
        [11,    17],
        [12,    18],
        [13,    19],
        [14,    20],
        [16,    22],
        [17,    23],
        [18,    24],
        [19,    25],
        [ 2,     6],
        [ 3,     7],
        [ 4,     8],
        [ 5,     9],
        [ 7,    11],
        [ 8,    12],
        [ 9,    13],
        [10,    14],
        [12,    16],
        [13,    17],
        [14,    18],
        [15,    19],
        [17,    21],
        [18,    22],
        [19,    23],
        [20,    24]]) - 1
    
    L, theta, dofs = Ele_Data(ele, coord, connect)
    print(f'L_2:{L}')
    print(f'theta_2:{theta}')
    print(f'dofs_2:{dofs}')